<!doctype html>
<meta charset="utf-8">
<link rel="stylesheet" href="xxm.css">
<link rel="preload" href="msgbox.png" as="image">

<style>
  * { box-sizing: border-box }
</style>

<body style="display: flex; justify-content: center; padding: 32px; background-image: url('bg.png')">
  <script type="module">
    import xxm from './xxm.js';

    document.body.append(xxm('640px', '480px', {}, [
      xxm.map({
        bgImage: 'dungeon_ground.png',
        tilesetImage: 'dungeon.png',
        roadblocks: [
          ['OOOO', 'OOXX', 'OOXX', 'OOXX', 'OOXX', 'XXXX', 'OOOO', 'OOOO', 'XXXX', 'XXXX', 'OOOO', 'OOOO', 'OOOO', 'OOOO', 'OOOO', 'OOOO', 'OOOO'],
          ['XOXX', 'OOXX', 'OOXX', 'OOXX', 'OOXX', 'XXXX', 'OOOO', 'OOOO', 'XXXX', 'XXXX', 'XXXX', 'XXXX', 'XXXX', 'XXXX', 'OOOO', 'OOOO', 'OOOO'],
        ],
      }, [
        xxm.layer([
          xxm.tile(0, 0, 0, 1),
          xxm.tile(1, 1, 0, 1),
          xxm.tile(2, 2, 0, 1),
          xxm.hero(xxm.sprite(1, 2, 'siren.png', '78px', '48px')),
          xxm.sprite(4, 1, 'dracula.png', '111px', '62px', {
            onAction: async () => {
              await xxm.ui.msgbox('THIS IS DRACULA.');
              await xxm.ui.msgbox('YOU NO MORE NOW.');
            },
          }),
        ]),
      ]),
      xxm.ui(),
    ]));
  </script>
</body>
